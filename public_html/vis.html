<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
 <!--	====================================================================	-->		
		<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<!--	====================================================================	-->
		<link rel="stylesheet" href="css/style.css"/>
		<link rel="stylesheet" href="css/bootstrap.min.css"/>
		<link rel="stylesheet" href="css/parallelCoordinates.css" />
<!--	====================================================================	-->
		<script type="text/javascript" src="./js/jquery-1.8.2.min.js"></script>
		<script src="./js/d3.min.js"></script>
		<script src="./js/d3.parcoords.js"></script>
		<script src="./js/divgrid.js"></script>

  </head>
  <body>
		<div class="container">
			<div class="title">Map View</div>
			
			<div class="block" id="glyph">
				
				
				
			</div>
			
			<div class="block">

					
				
				<button type="button" class="btn btn-default btn-lg btn-block">
					<a href="parcoords.html">Show Parallel Coordinates</a>
				</button>
			</div>
	</div>
		
		
	<div class="wrapper">
			<div id="parallel" class="parallel">  
				<div id="example" class="parcoords" style="height:800px; width:auto"></div>
				<div id="grid"></div>						
				<script id="brushing" type='text/javascript'>
					var color = d3.scale.category20(function(d){return d.State});
					var parcoords = d3.parcoords()("#example")
						.color('steelblue')
						.alpha(0.4);
		
		
						var selected_data;
					// load csv file and create the chart
					d3.csv('./csv/state.csv', function(data) {
						selected_data = data.filter(function(row) {
							return row['Income ($)'] >= 50000 && row['Income ($)'] <= 51000;
						})
						
						parcoords
							.data(data)
							.render()
							.brushMode("1D-axes");  // enable brushing
		
						// create data table, row hover highlighting
						var grid = d3.divgrid();
						
						d3.select("#grid")
							.datum(selected_data.slice(0,550)) // make sure all the data points can be included in the chart
							.call(grid)
							.selectAll(".row")
							.on({
								"mouseover": function(d) { parcoords.highlight([d]); },
								"mouseout": parcoords.unhighlight
							});

						// update data table on brush event
						parcoords.on("brush", function(d) {
							d3.select("#grid")
								.datum(d.slice(0,550)) // make sure all the data points can be included in the chart
								.call(grid)
								.selectAll(".row")
								.on({
									"mouseover": function(d) { parcoords.highlight([d]); },
									"mouseout": parcoords.unhighlight
								});
						});
					});

				</script>
			</div>
		</div>	
<!--	====================================================================	-->				
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
<!--	====================================================================	-->	
  </body>
</html>
